"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2092],{2092:(B,C,s)=>{s.r(C),s.d(C,{ProductTypesPageModule:()=>u});var h=s(6895),l=s(4006),e=s(5035),_=s(4228),t=s(8274),O=s(7606),Z=s(3893),M=s(5861),x=s(5174);class a{constructor(o){this.modalCtrl=o}openModal(o){x.Z&&this.modalCtrl.create({component:x.Z,componentProps:{product:o}}).then(n=>{n.present()})}}a.\u0275fac=function(o){return new(o||a)(t.LFG(e.IN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac});var y=s(4032);const b=function(){return{lower:20,upper:400}};class g{constructor(o,n){this.modalCtrl=o,this.formBuilder=n}ngOnInit(){this.filtersForm=this.formBuilder.group({sortOption:this.filtersValues.sortOption,priceRange:this.filtersValues.priceRange}),this.filtersForm.valueChanges.subscribe(({priceRange:o})=>{this.filtersValues.priceRange=o})}onSave(){this.modalCtrl.dismiss(this.filtersForm.value,"save")}onReset(){this.modalCtrl.dismiss(null,"reset")}onCancel(){this.modalCtrl.dismiss(this.filtersForm.value,"cancel")}}g.\u0275fac=function(o){return new(o||g)(t.Y36(e.IN),t.Y36(l.qu))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-filters-modal"]],inputs:{filtersValues:"filtersValues"},decls:63,vars:42,consts:[["slot","start"],[3,"click"],["slot","icon-only","icon","assets/icon/close.svg"],[1,"ion-padding"],[1,"filters-grid"],[3,"formGroup"],[1,"filter-container"],[1,"filter-title"],["formControlName","sortOption",3,"allowEmptySelection"],[1,"filter-item"],["slot","end","value","priceAsc"],["slot","end","value","priceDesc"],["slot","end","value","nameAsc"],["slot","end","value","nameDesc"],[1,"filter-container","filter-inputs-container"],[1,"filter-subtitle"],[1,"filter-range-values"],["formControlName","priceRange",1,"filter-range",3,"dualKnobs","snaps","step","ticks","min","max","value"],[1,"footer-only-buttons"],[1,"btn","btn-save",3,"click"],[1,"btn","btn-reset",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),t.NdJ("click",function(){return n.onCancel()}),t._UZ(4,"ion-icon",2),t.qZA()(),t.TgZ(5,"ion-title"),t._uU(6),t.ALo(7,"translate"),t.qZA()()(),t.TgZ(8,"ion-content",3)(9,"ion-grid",4)(10,"form",5)(11,"ion-row",6)(12,"ion-col")(13,"ion-text",7),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"ion-list")(17,"ion-radio-group",8)(18,"ion-item",9),t._UZ(19,"ion-radio",10),t.TgZ(20,"ion-label"),t._uU(21),t.ALo(22,"translate"),t.qZA()(),t.TgZ(23,"ion-item",9),t._UZ(24,"ion-radio",11),t.TgZ(25,"ion-label"),t._uU(26),t.ALo(27,"translate"),t.qZA()(),t.TgZ(28,"ion-item",9),t._UZ(29,"ion-radio",12),t.TgZ(30,"ion-label"),t._uU(31),t.ALo(32,"translate"),t.qZA()(),t.TgZ(33,"ion-item",9),t._UZ(34,"ion-radio",13),t.TgZ(35,"ion-label"),t._uU(36),t.ALo(37,"translate"),t.qZA()()()()()(),t.TgZ(38,"ion-row",14)(39,"ion-col")(40,"ion-text",7),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"ion-list")(44,"ion-item",9)(45,"ion-text",15),t._uU(46),t.ALo(47,"translate"),t.qZA(),t.TgZ(48,"div",16)(49,"ion-text"),t._uU(50),t.qZA(),t.TgZ(51,"ion-text"),t._uU(52),t.qZA()(),t._UZ(53,"ion-range",17),t.qZA()()()()()()(),t.TgZ(54,"ion-footer",18)(55,"ion-toolbar")(56,"ion-buttons")(57,"ion-button",19),t.NdJ("click",function(){return n.onSave()}),t._uU(58),t.ALo(59,"translate"),t.qZA(),t.TgZ(60,"ion-button",20),t.NdJ("click",function(){return n.onReset()}),t._uU(61),t.ALo(62,"translate"),t.qZA()()()()),2&o&&(t.xp6(6),t.Oqu(t.lcZ(7,21,"product.sortingAndFilterting")),t.xp6(4),t.Q6J("formGroup",n.filtersForm),t.xp6(4),t.hij("",t.lcZ(15,23,"product.sortBy"),":"),t.xp6(3),t.Q6J("allowEmptySelection",!0),t.xp6(4),t.Oqu(t.lcZ(22,25,"product.priceAsc")),t.xp6(5),t.Oqu(t.lcZ(27,27,"product.priceDesc")),t.xp6(5),t.Oqu(t.lcZ(32,29,"product.nameAsc")),t.xp6(5),t.Oqu(t.lcZ(37,31,"product.nameDesc")),t.xp6(5),t.hij("",t.lcZ(42,33,"product.filters"),":"),t.xp6(5),t.Oqu(t.lcZ(47,35,"product.price")),t.xp6(4),t.hij("",n.filtersValues.priceRange.lower," PLN"),t.xp6(2),t.hij("",n.filtersValues.priceRange.upper," PLN"),t.xp6(1),t.Q6J("dualKnobs",!0)("snaps",!0)("step",10)("ticks",!1)("min",20)("max",400)("value",t.DdM(41,b)),t.xp6(5),t.Oqu(t.lcZ(59,37,"common.save")),t.xp6(3),t.Oqu(t.lcZ(62,39,"common.reset")))},dependencies:[e.YG,e.Sm,e.wI,e.W2,e.fr,e.jY,e.Gu,e.gu,e.Ie,e.Q$,e.q_,e.B7,e.se,e.I_,e.Nd,e.yW,e.wd,e.sr,e.U5,e.QI,l._Y,l.JJ,l.JL,l.sg,l.u,y.X$],styles:["ion-title[_ngcontent-%COMP%]{text-transform:uppercase;padding-inline:unset}.filter-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.filter-subtitle[_ngcontent-%COMP%]{display:block;margin-top:12px;font-size:14px;font-weight:600}.filter-container[_ngcontent-%COMP%]{margin-bottom:30px}.filter-container[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--inner-border-width: 0;display:flex;font-size:14px}.filter-container[_ngcontent-%COMP%]   ion-radio-group[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{max-height:30px}.filter-container[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]{margin-top:8px}.filter-container[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]:first-child{margin-top:12px}.filter-inputs-container[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]::part(native){flex-direction:column;align-items:start}.filter-inputs-container[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]::part(native) > *[_ngcontent-%COMP%]{flex-basis:100%;display:flex;flex-direction:row}ion-radio[_ngcontent-%COMP%]{--border-radius: $border-radius;--inner-border-radius: $border-radius;--color: #ddd;--color-checked: #000;margin-right:6px}ion-radio.ios[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #ddd;border-radius:50%}.radio-checked.ios[_ngcontent-%COMP%]{border-color:#000}.filter-range-values[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-top:20px}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{display:flex;height:60px;padding:6px 19px;--padding-top: 0;--padding-bottom: 0;--min-height: 0}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{justify-content:space-between;gap:20px}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{height:40px;font-size:12px;flex:1 1 50%}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .btn-reset[_ngcontent-%COMP%]{border:1px solid var(--ion-color-medium);--padding-start: 12px;--padding-end: 10px}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{background-color:#000;--color: var(--ion-color-primary-contrast)}"]});class d{constructor(){}sortProducts(o,n){if(""===n)return o;const r=this.getSortByProperties(n);return o.sort((c,P)=>"Asc"===r.sortingOrder?c[r.sortBy]>P[r.sortBy]?1:-1:c[r.sortBy]<P[r.sortBy]?1:-1)}getSortByProperties(o){switch(o){case"nameAsc":return{sortBy:"name",sortingOrder:"Asc"};case"nameDesc":return{sortBy:"name",sortingOrder:"Desc"};case"priceAsc":return{sortBy:"price",sortingOrder:"Asc"};case"priceDesc":return{sortBy:"price",sortingOrder:"Desc"};default:return""}}}d.\u0275fac=function(o){return new(o||d)},d.\u0275prov=t.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"});var v=s(2766);function T(i,o){if(1&i){const n=t.EpF();t.TgZ(0,"ion-col",8)(1,"ion-card",3),t.NdJ("click",function(){const P=t.CHM(n).$implicit,w=t.oxw(2);return t.KtG(w.openModal(P))}),t._UZ(2,"img",9),t.TgZ(3,"ion-card-content")(4,"ion-text",10),t._uU(5),t.qZA(),t.TgZ(6,"ion-text",11),t._uU(7),t.qZA()()()()}if(2&i){const n=o.$implicit;t.xp6(2),t.Q6J("alt",n)("src",n.imgUrl,t.LSH),t.xp6(3),t.Oqu(n.name),t.xp6(2),t.Oqu(n.price)}}function A(i,o){if(1&i){const n=t.EpF();t.TgZ(0,"ion-grid")(1,"ion-row",2)(2,"ion-col")(3,"ion-button",3),t.NdJ("click",function(){t.CHM(n);const c=t.oxw();return t.KtG(c.openFiltersModal())}),t._uU(4),t.ALo(5,"translate"),t._UZ(6,"ion-icon",4),t.qZA()()(),t.TgZ(7,"ion-row",5)(8,"ion-col")(9,"ion-text",6),t._uU(10),t.qZA()()(),t.TgZ(11,"ion-row"),t.YNc(12,T,8,4,"ion-col",7),t.qZA()()}if(2&i){const n=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,4,"product.sortingAndFilterting")," "),t.xp6(6),t.AsE("",n.products.length," ",1===n.products.length?"rzecz":"rzeczy"," "),t.xp6(2),t.Q6J("ngForOf",n.products)}}function F(i,o){1&i&&(t._UZ(0,"app-empty-grid",12),t.ALo(1,"translate")),2&i&&t.s9C("message",t.lcZ(1,1,"product.noProducts"))}class m extends a{constructor(o,n){super(o),this.filtersService=n}ngOnInit(){this.makeCopyOfInitialProducts(),this.filtersValues=this.getInitialFiltersValues()}openFiltersModal(){var o=this;return(0,M.Z)(function*(){const n=yield o.modalCtrl.create({component:g,componentProps:{filtersValues:o.filtersValues}});n.present();const r=yield n.onWillDismiss();o.filtersValues=r.data;const{role:c}=r;"save"===c&&o.filterProducts(),"reset"===c&&o.resetFilters()})()}filterProducts(){this.filterProductByPriceRange(this.filtersValues.priceRange),this.filtersValues.sortOption&&this.sortProducts(this.filtersValues.sortOption)}resetFilters(){this.resetProductsToInitialState(),this.filtersValues=this.getInitialFiltersValues()}sortProducts(o){this.products=this.filtersService.sortProducts(this.products,o)}filterProductByPriceRange(o){this.products=[...this.initialProducts].filter(n=>n.price>o.lower&&n.price<o.upper)}makeCopyOfInitialProducts(){this.initialProducts=[...this.products]}resetProductsToInitialState(){this.products=this.initialProducts}getInitialFiltersValues(){return{priceRange:{lower:20,upper:400},sortOption:""}}}m.\u0275fac=function(o){return new(o||m)(t.Y36(e.IN),t.Y36(d))},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-items-grid"]],inputs:{products:"products"},features:[t.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["EmptyCart",""],[1,"filters"],[3,"click"],["icon","assets/icon/filter.svg"],[1,"counter"],["color","secondary"],["size","6",4,"ngFor","ngForOf"],["size","6"],[3,"alt","src"],["color","secondary",1,"card-title"],["color","secondary",1,"card-subtitle"],["iconFileName","bag-no-color",3,"message"]],template:function(o,n){if(1&o&&(t.YNc(0,A,13,6,"ion-grid",0),t.YNc(1,F,2,3,"ng-template",null,1,t.W1O)),2&o){const r=t.MAs(2);t.Q6J("ngIf",n.products.length)("ngIfElse",r)}},dependencies:[h.sg,h.O5,e.YG,e.PM,e.FN,e.wI,e.jY,e.gu,e.Nd,e.yW,v.e,y.X$],styles:[".filters[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{display:block;margin:0 auto 16px;--background: none;--background-activated: none;--color: #000;font-weight:600;text-transform:uppercase}.filters[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-left:16px}.counter[_ngcontent-%COMP%]{margin-bottom:10px}.counter[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{font-size:14px;text-align:right}ion-grid[_ngcontent-%COMP%]{padding:0 19px}ion-card[_ngcontent-%COMP%]{--background: none;box-shadow:none;border-radius:0;margin:0}ion-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:255px;width:100%;object-fit:cover;object-position:top}ion-card-content[_ngcontent-%COMP%]{padding:14px 0}ion-text[_ngcontent-%COMP%]{display:block;font-size:12px;text-align:left}.title[_ngcontent-%COMP%]{font-size:16px;font-weight:700}"]});class f{constructor(o,n,r,c){this.route=o,this.navCtrl=n,this.typesService=r,this.productsService=c}ngOnInit(){this.route.paramMap.subscribe(o=>{o.has("typeId")||this.navigateBackToHome();const n=Number(o.get("typeId")),r=Number(o.get("categoryId"));this.initDataFromRouterParam(n),this.products=this.getAllProductsForThisSection(r,n)})}getAllProductsForThisSection(o,n){return this.productsService.getAllProductsByCategoryAndTypeId(o,n)}navigateBackToHome(){return this.navCtrl.navigateBack("/home")}initDataFromRouterParam(o){this.currentProductType=this.typesService.getProductTypeById(o)}}f.\u0275fac=function(o){return new(o||f)(t.Y36(_.gz),t.Y36(e.SH),t.Y36(O.K),t.Y36(Z.s))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-product-types"]],decls:11,vars:2,consts:[["slot","start"],["text","","color","medium","defaultHref","home"],["slot","end"],["slot","icon-only","icon","assets/icon/search.svg"],[3,"products"]],template:function(o,n){1&o&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t._UZ(3,"ion-back-button",1),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5),t.qZA(),t.TgZ(6,"ion-buttons",2)(7,"ion-button"),t._UZ(8,"ion-icon",3),t.qZA()()()(),t.TgZ(9,"ion-content"),t._UZ(10,"app-items-grid",4),t.qZA()),2&o&&(t.xp6(5),t.Oqu(null==n.currentProductType?null:n.currentProductType.name),t.xp6(5),t.Q6J("products",n.products))},dependencies:[e.oU,e.YG,e.Sm,e.W2,e.Gu,e.gu,e.wd,e.sr,e.cs,m]});const I=[{path:"",component:f}];class p{}p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=t.oAB({type:p}),p.\u0275inj=t.cJS({imports:[_.Bz.forChild(I),_.Bz]});var U=s(255);class u{}u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[h.ez,l.u5,e.Pc,U.Z,p]})}}]);