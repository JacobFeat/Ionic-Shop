<ion-header>
  <ion-toolbar mode="ios">
    <ion-title>{{ "common.cart" | translate }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid class="section-container" *ngIf="products.length; else EmptyCart">
    <ion-row
      class="product-container"
      *ngFor="let product of products; let id = index"
    >
      <ion-col class="img-container">
        <img
          class="img"
          [src]="'/assets/mockImages/' + product.imgUrl"
          alt=""
        />
      </ion-col>
      <ion-col class="product-content-cointainer">
        <ion-row>
          <ion-col>
            <p class="product-title">{{ product.name }}</p>
            <p>{{ "product.size" | translate }} {{ product.choosenSize }}</p>
          </ion-col>
          <ion-col size="auto">
            <ion-button (click)="deleteProduct(id)" class="btn btn-trash">
              <ion-icon
                slot="icon-only"
                icon="assets/icon/trash.svg"
              ></ion-icon>
            </ion-button>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <p>{{ product.price | currency }} x 1</p>
          </ion-col>
          <ion-col class="product-summary-price">
            <p>{{ product.price | currency }}</p>
          </ion-col>
        </ion-row>
      </ion-col>
    </ion-row>
    <ion-row class="price-delivery-container">
      <ion-row class="summary-texts-container">
        <ion-col class="summary-texts-line">
          <p>{{ "order.orderValue" | translate }}</p>
          <p>{{ totalOrderAmount }} PLN</p>
        </ion-col>
      </ion-row>
      <ion-row class="summary-texts-container">
        <ion-col class="summary-texts-line">
          <p>{{ "order.delivery" | translate }}</p>
          <p>{{ "order.free" | translate }}</p>
        </ion-col>
      </ion-row>
    </ion-row>
    <ion-row class="summary-price-container">
      <ion-row class="summary-price-row">
        <ion-col class="summary-texts-line">
          <p>{{ "order.totalOrder" | translate }}</p>
          <p>{{ totalOrderAmount }} PLN</p>
        </ion-col>
      </ion-row>
    </ion-row>
    <ion-row class="summary-btn-container">
      <ion-button (click)="finalizePurchase()" class="btn"
        >{{ "order.finalize" | translate }}</ion-button
      >
    </ion-row>
  </ion-grid>
  <ng-template #EmptyCart>
    <app-empty-grid
      [iconFileName]="emptyGridIconName"
      message="{{ 'common.noProductsInTheCart' | translate }}"
    ></app-empty-grid>
  </ng-template>
</ion-content>
